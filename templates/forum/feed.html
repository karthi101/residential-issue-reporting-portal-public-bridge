{% extends "forum/base.html" %}

{% block content %}
<h1 class="mb-4">Your Feed</h1>

{% if posts %}
    <div class="row">
        {% for post in posts %}
            <div class="col-md-6">
                <div class="post-summary">
                    <h2 class="h5">{{ post.title }}</h2>
                    <p>{{ post.content|truncatewords:20 }}</p>
                    <p><strong>By:</strong> {{ post.author.username }}</p>
                    <p><small>Posted on: {{ post.created_at }}</small></p>
                    <div class="d-flex justify-content-between align-items-center">
                        <a href="{% url 'forum:post_detail' post.id %}" class="btn btn-primary btn-sm">View Details</a>
                        <p class="mb-0">Upvotes: {{ post.upvotes.count }} | Downvotes: {{ post.downvotes.count }}</p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="alert alert-warning text-center">
        No posts available. Check back later!
    </div>
{% endif %}
{% endblock %}
